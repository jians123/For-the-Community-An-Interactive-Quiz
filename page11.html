<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
     
    <link rel="stylesheet" type="text/css" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Space+Mono&display=swap" rel="stylesheet">
    
    <title>Question 7</title>

    <meta charset="utf-8" />
  </head>
  <body>

    <audio id="clickSound" src="./assets/click.wav" preload="auto"></audio>
    <audio id="correctSound" src="./assets/correctSound.wav" preload="auto"></audio>
    <audio id="wrongSound" src="./assets/wrongSound.wav" preload="auto"></audio>

    <div id = "question">
       <h1>Q10.</h1>
       <h1>How long does it take to degrade a battery?</h1>
    </div>
    <div id = "item">
        <div class="slidecontainer">
            <p id = "sliderLabel">Years: <span id="demo"></span></p>
            <input type="range" min="10" max="200" value="1" class="slider" id="myRange">
        </div>
        <br>
        <br>
        <input type="submit" value="Submit" onmousedown = "document.getElementById('clickSound').play();" onclick = save_data()>
    </div>

    <div id = "score">
        <h2 >Total Score: </h2>
        <h2 id = "score_number"></h2>
    </div>
   
    <script>
       //This part functions as the time counter for the quiz
       var counter = 30; //Total time is 30 seconds
        setInterval(updateTimer, 1000); //Set a interval for updating the remain time
        //This function is called every 1 second
        function updateTimer(){
            //If reach the time, pass to the next question(page)
            if(counter == 0){
                alert("Time out!");
                window.location.href = 'page11.html'; //herf to the next page
            }
            counter -= 1; //Update the counter
            document.getElementById('counter').innerHTML = counter; //Set the counter value to the html element  
        }
      
        var slider = document.getElementById("myRange");
        var output = document.getElementById("demo");
        output.innerHTML = slider.value; // Display the default slider value

        // Update the current slider value (each time you drag the slider handle)
        slider.oninput = function() {
            output.innerHTML = this.value;
        }       
        document.getElementById('score_number').innerHTML = localStorage.getItem("score");
        function save_data() {
          //Get the value from the slider element
            var value =  slider.value;
             //If the value is begger than 100, plus the score to user
            if(value >= 100){
                var score = parseInt(localStorage.getItem("score")); 
                score += 4;
                document.getElementById('correctSound').play();  //Play the correct sound
                alert("Correct!");
            }else{
                document.getElementById('wrongSound').play();  //Play the wrong sound
                alert("Wrong!");              
            }
            window.location.href = 'end.html'; //Go to end.html
        }
    </script>

    <div id="copy_right">
      <p>Â©copyright 2022. Sophie Jiang  <br />All rights reserved.</p>
    </div>
  </body>
</html>